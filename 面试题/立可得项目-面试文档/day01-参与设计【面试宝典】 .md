# 第1章 参与设计【面试宝典】

我们这一章，主要是围绕项目的需求和设计来研究面试问题。

## 1.请简单介绍一下立可得这个项目 

【介绍项目要清晰，从定位、模块划分、采用的框架和技术、项目重难点等方面阐述】

立可得是一个智能售货机项目，也就是我们在地铁、公园里看到的那种自动售卖机。立可得一共分为五个端：分别是运营管理后台、合作商后台、运营APP、用户小程序、设备端。我主要负责的是运营管理后台工单业务模块和用户小程序下单出货功能的编写。这个项目主要采用的SpringCloud+mybatisPlus框架。消息中间件采用的是工业级物联网消息中间件EMQ ，注册中心采用consul。自动工单部分采用XXL-job分布式任务调度来驱动，为了更高效我们使用了分片的方式将补货任务进行切割。另外在项目中我们使用分布式锁解决售货机并发的问题。



> **敲黑板啦~~~**
>
> **项目经验，是“吃过肥猪肉”的事。**
>
> 你没工作经验，学习的时候模拟做个项目，这叫“见过肥猪跑”，虽然没经过实践检验，至少也算开过光了，比纯理论派来的强点。
>
> 你有工作经验，面试官会想知道两件事：
>
> **第一，你的经验是真的吗？你说说，我听听，我得判断下你是不是在造假或夸大。**
>
> **第二，从你的叙述中，判断你的能力，你能操多大的盘，你的专业技能和职业素养如何。通过你参与了多少，负责了什么，项目结果怎么样，都可以看出来。**
>
> 项目经验，你的简历中肯定都有描述，但一方面可能篇幅所限，写的不够具体，另一方面面试官也会通过询问，判断真伪，了解细节。所以“简单介绍下你做的xx项目”，几乎是面试十有八九会有的节目，换句话说：你应该提前写好背熟。
>
> 重点是什么？
>
> **面试官关注的不是你做了什么，而是你会了什么；不是你参与了什么，而是你主导了什么；不是你的循规蹈矩，而是你的敢于创新；不仅是你的专业技能，还有你的职业素养……**
>
> 1、介绍业务时候，先总体，再局部，叙述时，需要在介绍业务的同时附带技能阐述
>
> 2、介绍完业务需要整体叙述下表结构，及表结构之间的关系。
>
> 3、解释业务时，让业务与技术结合，并且表述清楚技术是如何解决业务中间的问题。==
>
> - 缓存：Spring Data Redis 解决缓存
> - jwt登录验证的流程【通用方案】
> - EMQ 的应用场景
> - spring-cloud的架构设计
> - 分布式事务的解决方法
> - XXL-JOB应用场景
> - 支付流程的内容
>
> 千万不要流水账，平铺直叙，简单介绍项目后的着重点，很关键。要么是成绩牛逼，要么是经历不一样，要么是你的体会和收获。



## 2.立可得分哪几个端？每个端的使用者和主要作用是什么？

立可得一共分为5个端，分别是运营管理后台、合作商后台、运营APP、用户端（小程序端）、设备端。

（1）运营管理后台：供运营企业的管理人员使用。主要作用有基础数据的管理和统计分析功能。

（2）合作商后台：供合作商使用。主要作用是合作商查看自己点位的分成。

（3）运营APP：供运营企业的运维和运营人员使用。主要作用是处理工单业务。

（4）用户端（小程序端）：供C端用户使用。消费者扫描售货机上的二维码可以打开此端。主要作用是完成在售货机的购物操作。

（5）设备端。没有界面。安装在每个售货机中，主要作用是接收服务端发来的出货请求，调用硬件完成出货。

## 3.立可得最核心的业务有哪些？

立可得最核心的业务有工单业务和订单业务。

（1）工单业务。是运营公司处理日常事务的业务。分为运营类工单和运维类工单。运营类工单只有一种就是补货工单，而运维类工单有三种，分别是投放工单、撤机工单、维修工单。

（2）订单业务。面向C端用户。用户在售货机下单后，创建工单，完成支付和发货。

## 4.立可得的用户端为什么用小程序，而不用APP或H5？

APP对于用户来说，“使用成本”相对较高，用户需要花费流量下载并安装，会导致有很多用户嫌麻烦而不会安装，流失一部分客源。

如果是H5，对于用户来说很便利。但是我们无法获取用户的身份，每次购物都是“一锤子买卖”，当用户购物完成关闭页面了，这个用户也就流失了，无法形成我们的“资产”。

如果使用小程序，对于用户来说无需安装，成本非常低，使用体验比APP要好。用户使用完成关闭了小程序，也可以在小程序列表中再次打开，并且企业可以利用小程序入口，对用户再次“挖掘”，例如设计一个电商入口，真正实现线上和线下的双向导流。



## 5.为什么使用Consul做注册中心和配置中心？

当时我们在做系统设计的时候，也考虑过使用nacos做注册中心和配置中心。这两个产品其实还是有很大的相似度。Nacos是国产软件，阿里开发的，在界面上，使用习惯上，更符合国人的习惯，所以国内用的比较多。Consul是国外的公司开发的，英文的界面，有一定的学习成本。当时我们也对这两款软件做了比较，在功能上两者不分伯仲，但我们觉得Consul启动速度和运行速度明显比Nacos要快很多。这个也比奇怪，毕竟Consul是go语言开发的，而Nacos是java语言开发的，所以效率还是有差别的。所以从效率的考虑，我们选择了Consul作为注册中心和配置中心。



## 6.立可得系统一共分为哪几个库？大概多少张表？

立可得分为四个库，分别是售货机库、工单库、订单库、用户库。核心的表大概有30多张。

## 7.你有没有参与过表设计？如何进行表设计？

立可得这个项目，我是从项目启动时就进入的，参与了表设计和接口设计。设计数据库表，我的经验就是先从产品原型中提炼出表名称，比如产品原型中，有一些基础数据的维护，那么这些大概率都是一些基本表。这类的表设计相对比较简单，就是从产品原型中提取输入和输出项，此外，我们还会加上逻辑删除字段、状态字段、创建日期和更新日期这样的字段。  另外还有一些经验，虽然理论上我们要遵循三大范式，但是实际上是要有变通的，比如空间换时间。



## 8.立可得项目有多少个接口，多少个页面？

【没有固定答案，合理即可】

立可得项目接口大概有90多个接口。页面总共大概50个页面左右。

## 9.你们项目的开发流程是什么？

我们项目采用前后端分离的模式开发。

在项目启动后，由产品经理用了大概一周时间设计了第一版的产品原型，召开两次需求评审会来确定最终的需求。

接下来设计组开始进行效果图设计，开发组进行技术研讨会确定技术选型，并确定接口文档，与前端人员确认。接口确认好，前端就按照效果图、接口文档进行前端代码的开发，而后端就按照产品原型、接口文档进行后端代码的开发。前后端开发完成后，前端和后端进行前后端联调。最后测试、上线部署。



## 10.你们项目组有多少人？人员构成是什么? 开发周期怎么定？

【这个问题没有固定答案，合理即可】

我们项目组有1个项目负责人  、1个架构师 、 4个后端开发、2个前端开发（1个负责管理后台、1个负责移动端） 、1个产品经理、1个UI设计、1个测试、1个运维。

我们项目采用敏捷开发，分三个阶段：

第1阶段：4个月，实现项目基础业务功能  

第2阶段：2个月，实现项目增强功能。

第3阶段：维护期，每周都会更新迭代一些功能，周四发版。
